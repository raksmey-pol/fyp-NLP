<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake News Detector</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .model-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            font-size: 0.9em;
        }
        
        .content {
            padding: 40px;
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        label {
            display: block;
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }
        
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            font-size: 1em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            resize: vertical;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-analyze {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-analyze:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-clear {
            background: #f5f5f5;
            color: #666;
        }
        
        .btn-clear:hover {
            background: #e0e0e0;
        }
        
        .result-section {
            margin-top: 30px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            display: none;
        }
        
        .result-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .result-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .result-title {
            font-size: 1.8em;
            font-weight: 700;
        }
        
        .result-title.fake {
            color: #e74c3c;
        }
        
        .result-title.real {
            color: #27ae60;
        }
        
        .result-icon {
            font-size: 3em;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .metric {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .metric-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #333;
        }
        
        .confidence-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 15px;
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading.show {
            display: block;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .examples {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
        }
        
        .examples h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .example-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .example-btn {
            padding: 12px 20px;
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s;
            font-size: 0.95em;
        }
        
        .example-btn:hover {
            background: #e8e8e8;
            border-color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç Fake News Detector</h1>
            <p>AI-Powered News Authenticity Analysis</p>
            <div class="model-badge">Model: {{ model_name }}</div>
        </div>
        
        <div class="content">
            <div class="input-section">
                <label for="newsText">Enter News Article:</label>
                <textarea 
                    id="newsText" 
                    placeholder="Paste or type a news article here to analyze its authenticity..."
                ></textarea>
                
                <div class="button-group">
                    <button class="btn-analyze" onclick="analyzeNews()">
                        üîç Analyze
                    </button>
                    <button class="btn-clear" onclick="clearAll()">
                        üóëÔ∏è Clear
                    </button>
                </div>
            </div>
            
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Analyzing article...</p>
            </div>
            
            <div class="result-section" id="results">
                <div class="result-header">
                    <div>
                        <div class="result-title" id="prediction"></div>
                        <div style="color: #666; margin-top: 5px;" id="confidenceLevel"></div>
                    </div>
                    <div class="result-icon" id="resultIcon"></div>
                </div>
                
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-label">Confidence</div>
                        <div class="metric-value" id="confidence">--</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Authenticity Score</div>
                        <div class="metric-value" id="probability">--</div>
                    </div>
                </div>
                
                <div class="confidence-bar">
                    <div class="confidence-fill" id="confidenceBar" style="width: 0%">
                        <span id="confidenceText">0%</span>
                    </div>
                </div>
            </div>
            
            <div class="examples">
                <h3>üìù Try Example Articles:</h3>
                <div class="example-buttons">
                    <button class="example-btn" onclick="loadExample(0)">
                        ‚úÖ Real: "Scientists discover new planet in habitable zone..."
                    </button>
                    <button class="example-btn" onclick="loadExample(1)">
                        üö® Fake: "BREAKING: Aliens land in New York City..."
                    </button>
                    <button class="example-btn" onclick="loadExample(2)">
                        ‚úÖ Real: "Stock market reaches record high amid recovery..."
                    </button>
                    <button class="example-btn" onclick="loadExample(3)">
                        üö® Fake: "You won't believe what this celebrity did..."
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const examples = [
            "Scientists at NASA have discovered a new Earth-like planet in the habitable zone of a nearby star system, located approximately 100 light-years away. The planet, named Kepler-452c, shows promising signs of potential water on its surface.",
            "BREAKING NEWS: Aliens have officially landed in New York City and are demanding to speak with the President immediately! Witnesses report seeing massive UFOs hovering over Times Square. The government has been hiding the truth for decades!",
            "The stock market reached a new record high today as investors responded positively to strong economic data and corporate earnings reports. The S&P 500 index gained 1.5% while the Dow Jones Industrial Average rose 200 points.",
            "You won't believe what this celebrity did last night! Doctors HATE them for this one weird trick! Click here now to discover the shocking secret that will change your life forever! Limited time offer!"
        ];
        
        function loadExample(index) {
            document.getElementById('newsText').value = examples[index];
        }
        
        function clearAll() {
            document.getElementById('newsText').value = '';
            document.getElementById('results').classList.remove('show');
        }
        
        async function analyzeNews() {
            const text = document.getElementById('newsText').value.trim();
            
            if (!text) {
                alert('Please enter some text to analyze');
                return;
            }
            
            // Show loading
            document.getElementById('loading').classList.add('show');
            document.getElementById('results').classList.remove('show');
            
            try {
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ text: text })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    displayResults(data);
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                alert('Error analyzing text: ' + error);
            } finally {
                document.getElementById('loading').classList.remove('show');
            }
        }
        
        function displayResults(data) {
            const isFake = data.prediction === 'FAKE';
            const confidence = (data.confidence * 100).toFixed(1);
            const probability = (data.probability_real * 100).toFixed(1);
            
            // Set prediction
            const predictionEl = document.getElementById('prediction');
            predictionEl.textContent = data.prediction + ' NEWS';
            predictionEl.className = 'result-title ' + (isFake ? 'fake' : 'real');
            
            // Set icon
            document.getElementById('resultIcon').textContent = isFake ? 'üö®' : '‚úÖ';
            
            // Set confidence level
            document.getElementById('confidenceLevel').textContent = 
                data.confidence_level + ' Confidence';
            
            // Set metrics
            document.getElementById('confidence').textContent = confidence + '%';
            document.getElementById('probability').textContent = probability + '%';
            
            // Set confidence bar
            const confidenceBar = document.getElementById('confidenceBar');
            confidenceBar.style.width = confidence + '%';
            document.getElementById('confidenceText').textContent = confidence + '%';
            
            // Show results
            document.getElementById('results').classList.add('show');
        }
    </script>
</body>
</html>
